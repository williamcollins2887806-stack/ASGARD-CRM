# üìû –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ú–∞–Ω–≥–æ –¢–µ–ª–µ–∫–æ–º –∏ –ø–æ—á—Ç—ã

## –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∏–∏

### 1. –ú–∞–Ω–≥–æ –¢–µ–ª–µ–∫–æ–º ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ú–∞–Ω–≥–æ –¢–µ–ª–µ–∫–æ–º –≤–∞–º –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------------|----------|
| **API Key** | –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ú–∞–Ω–≥–æ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API | –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ |
| **API Salt** | –¢–∞–º –∂–µ | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ |
| **VPBX ID** | –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç ‚Üí –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | ID –≤–∞—à–µ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ê–¢–° (–Ω–∞–ø—Ä–∏–º–µ—Ä: vpbx123456) |

#### –®–∞–≥–∏ –ø–æ–ª—É—á–µ–Ω–∏—è:
1. –í–æ–π–¥–∏—Ç–µ –≤ [–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ú–∞–Ω–≥–æ –¢–µ–ª–µ–∫–æ–º](https://lk.mango-office.ru)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
3. –ï—Å–ª–∏ API –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω ‚Äî –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **API Key** –∏ **API Salt**
5. –í —Ä–∞–∑–¥–µ–ª–µ **–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –Ω–∞–π–¥–∏—Ç–µ **VPBX ID** (–∏–ª–∏ –≤ URL –∫–∞–±–∏–Ω–µ—Ç–∞)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ CRM

1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–¢–µ–ª–µ—Ñ–æ–Ω–∏—è** (`#/mango`)
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - API Key
   - API Salt
   - VPBX Host
4. –í–∫–ª—é—á–∏—Ç–µ –≥–∞–ª–æ—á–∫—É **"–í–∫–ª—é—á–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω–∏—é"**
5. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**
6. –ù–∞–∂–º–∏—Ç–µ **"–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è"** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –∑–≤–æ–Ω–∫–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω—É–∂–µ–Ω —Å–µ—Ä–≤–µ—Ä–Ω—ã–π webhook:

```
Webhook URL: https://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä.ru/api/mango-webhook
```

Webhook –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å POST-–∑–∞–ø—Ä–æ—Å—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –∑–≤–æ–Ω–∫–∞—Ö –æ—Ç –ú–∞–Ω–≥–æ.

### 4. –°—Ç–∞—Ç—É—Å—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- **–¢–û (–¢–µ–Ω–¥–µ—Ä–Ω—ã–π –æ—Ç–¥–µ–ª)** ‚Äî –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∑–≤–æ–Ω–∫–∏
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏ ‚Äî –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç

–ö–∞–∂–¥—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –ø—Ä–∏—ë–º –∑–≤–æ–Ω–∫–æ–≤:
- –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **"–ü—Ä–∏—ë–º –∑–≤–æ–Ω–∫–æ–≤"**
- –ö–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω–æ ‚Äî –∑–≤–æ–Ω–∫–∏ –ø–æ—Å—Ç—É–ø–∞—é—Ç —ç—Ç–æ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É
- –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å–∞–º–∏ –≤—Å–µ—Ö –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –¢–µ–ª–µ—Ñ–æ–Ω–∏—è**

---

## üìß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–æ—á—Ç–æ–π

### –í–∞—Ä–∏–∞–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: IMAP/SMTP (–ø—Ä–æ—Å—Ç–æ–π)

–î–ª—è –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã —Å –ø–æ—á—Ç–æ–π –Ω—É–∂–Ω—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü—Ä–∏–º–µ—Ä |
|----------|--------|
| **IMAP —Å–µ—Ä–≤–µ—Ä** | imap.mail.ru / imap.yandex.ru |
| **IMAP –ø–æ—Ä—Ç** | 993 (SSL) |
| **SMTP —Å–µ—Ä–≤–µ—Ä** | smtp.mail.ru / smtp.yandex.ru |
| **SMTP –ø–æ—Ä—Ç** | 465 (SSL) –∏–ª–∏ 587 (TLS) |
| **Email** | crm@asgard-service.ru |
| **–ü–∞—Ä–æ–ª—å** | –ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ú–∞–Ω–≥–æ –ü–æ—á—Ç–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–æ—á—Ç—É –æ—Ç –ú–∞–Ω–≥–æ –¢–µ–ª–µ–∫–æ–º:
- –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏ –≤ —Ç–æ–º –∂–µ —Ä–∞–∑–¥–µ–ª–µ API –∫–∞–±–∏–Ω–µ—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –µ–¥–∏–Ω–æ–π —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∏–µ–π

#### –í–∞—Ä–∏–∞–Ω—Ç 3: Yandex/Google API

–î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
- Yandex: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ [Yandex OAuth](https://oauth.yandex.ru)
- Google: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com)

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ç–µ–ª–µ—Ñ–æ–Ω–∏–∏ –Ω—É–∂–µ–Ω –±—ç–∫–µ–Ω–¥ —Å–µ—Ä–≤–µ—Ä:

1. **Python FastAPI** –∏–ª–∏ **Node.js** ‚Äî –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook
2. **PostgreSQL** ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∑–≤–æ–Ω–∫–æ–≤
3. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** ‚Äî –ú–∞–Ω–≥–æ —Ç—Ä–µ–±—É–µ—Ç HTTPS –¥–ª—è webhook
4. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP** (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ) ‚Äî –¥–ª—è –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ú–∞–Ω–≥–æ

### –ü—Ä–∏–º–µ—Ä webhook –Ω–∞ Python:

```python
from fastapi import FastAPI, Request
import httpx

app = FastAPI()

@app.post("/api/mango-webhook")
async def mango_webhook(request: Request):
    data = await request.json()
    
    event = data.get("event")
    
    if event == "call.incoming":
        # –í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫
        caller_number = data.get("from", {}).get("number")
        # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ CRM —á–µ—Ä–µ–∑ WebSocket
        
    elif event == "call.answered":
        # –ó–≤–æ–Ω–æ–∫ –ø—Ä–∏–Ω—è—Ç
        pass
        
    elif event == "call.ended":
        # –ó–≤–æ–Ω–æ–∫ –∑–∞–≤–µ—Ä—à—ë–Ω
        duration = data.get("duration")
        # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é
        
    return {"status": "ok"}
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

### –¢–µ–ª–µ—Ñ–æ–Ω–∏—è:
- [ ] –ü–æ–ª—É—á–µ–Ω API Key –æ—Ç –ú–∞–Ω–≥–æ
- [ ] –ü–æ–ª—É—á–µ–Ω API Salt
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω VPBX Host
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (—Ç–µ—Å—Ç)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ù–∞—Å—Ç—Ä–æ–µ–Ω webhook –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü–æ—á—Ç–∞:
- [ ] –í—ã–±—Ä–∞–Ω —Å–ø–æ—Å–æ–± –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [ ] –ü–æ–ª—É—á–µ–Ω—ã —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∏—Å—å–º–∞

---

## ‚ùì –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –¢–µ–ª–µ—Ñ–æ–Ω–∏—è –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API Key –∏ Salt
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –ú–∞–Ω–≥–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ VPBX ID —É–∫–∞–∑–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å VPN/–ø—Ä–æ–∫—Å–∏

### –ó–≤–æ–Ω–∫–∏ –Ω–µ –ø–æ—Å—Ç—É–ø–∞—é—Ç:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤–∫–ª—é—á—ë–Ω –ø—Ä–∏—ë–º –∑–≤–æ–Ω–∫–æ–≤
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ webhook –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü–æ—á—Ç–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∫–ª—é—á—ë–Ω IMAP/SMTP –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–æ—á—Ç–æ–≤–æ–≥–æ —è—â–∏–∫–∞
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä–æ–ª—å
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã –∏ SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π:
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ú–∞–Ω–≥–æ: https://www.mango-office.ru/support/api/
- –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ú–∞–Ω–≥–æ: 8-800-555-55-22

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: ${new Date().toLocaleDateString('ru-RU')}*
*–ê–°–ì–ê–†–î CRM v42*
